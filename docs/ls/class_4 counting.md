# 计算方法

---

## 加法原理，乘法原理

- **加法原理**:  
  如果一个事件可以由 `m` 种方法发生，另一个事件可以由 `n` 种方法发生，并且这两个事件不能同时发生，那么这两个事件可以由 `m + n` 种方法发生。

- **乘法原理**:  
  如果一个事件可以由 `m` 种方法发生，另一个事件可以由 `n` 种方法发生，并且这两个事件可以同时发生，那么这两个事件可以由 `m * n` 种方法发生。

> **总结**: 乘法分步骤，加法分事件。

---

## 鸽笼原理（抽屉原理）

- **鸽笼原理**:  
  如果有 `n + 1` 个鸽子，有 `n` 个抽屉，那么至少有一个抽屉中会有 2 个鸽子。

通过对鸽子和笼子的定义的设计，可以证明很多数学问题（PPT）。

> **观察**: 大多数鸽子的构造都是这样的 `Ai`，`i` 表示从这个数的某一种性质，之后导出两个性质相同，之后相减得到差分。

---

## 组合数

### 组合数恒等式

1. **杨辉三角的加法性质**:  
   `C(n, k) = C(n-1, k) + C(n-1, k-1)`

2. **组合数的对称性**:  
   `C(n, k) = C(n, n-k)`

3. **范德蒙德恒等式**:  
   `Σ C(n, i) * C(m, k-i) = C(n+m, k)`  
   （理解为 `n+m` 的 `k` 个数的组合数等于 `n` 个选 `i` 个数的组合数加 `m` 个选 `k-i` 个数的组合数）

4. **组合数的和**:  
   `2^n = Σ C(n, i)` （`i=0` 到 `n`）  
   （理解为 `n` 个数的组合数的和等于 `2^n`）

---

### 可重复的组合问题

其实可以化成解答线性方程组非负整数解的问题。  
其实就是**插板法**啦，如果有限制就提前给几个（变成常规形式）。

---

### Generating Permutation and Combination (生成排列组合)

先来看一个问题：  
给 `1 2 3 4 5` 这 5 个数，进行全排列，如何找出给定的一个排列的下一个排列？  

比如：  

- `1234` 的下一个排列是 `1243`，  
- 再下一个排列是 `1342`，  
- 再下一个排列是 `1423`，  
- 再下一个排列是 `1432`，  
- 再下一个排列是 `1234`。

**方法**:  
其实只要找这个排列的**上升和下降的交界处**，注意这个下降应该是**最后一个下降的地方**，因为最后一个下降的地方无论如何改变这个地方的次序，都是比这个数小的。

例如：  

- `12543`，下降的是 `5 4 3`，你怎么改变都是比 `543` 小的。  
- 上升的是紧靠着这个下降的上升的地方，比如 `12543` 的上升是 `2 5`。  

之后我们只要把下降的地方比上升处的最小值大的数和上升处交换，再把其他数从小到大排列即可。  

例如：  

- `12543 -> 13245`  
- `362541 -> 364152`
